var u="https://en.wikipedia.org/w/api.php",l="https://en.wikipedia.org/api/rest_v1/";async function p(o,e=10){var n;try{let t=Math.min(e,500),r=`${u}?action=query&list=search&srsearch=${o}&srlimit=${t}&sroffset=${0}&format=json&origin=*`,s=await fetch(r),{status:a}=s;if(a!==200)return{status:a,suggestion:void 0,results:void 0};let c=await s.json(),{query:{searchinfo:i,search:d}}=c,f=(n=i==null?void 0:i.suggestion)!=null?n:null;return{status:a,suggestion:f,results:d}}catch(t){return console.error("Error =>",t),{status:400,suggestion:void 0,results:void 0}}}async function I(o){try{let e=`${u}?action=query&prop=extracts&format=json&exintro=&titles=${o}`,n=await fetch(e),{status:t}=n;if(t!==200)return{status:t,result:void 0};let s=(await n.json()).query.pages;return{status:t,result:s[Object.keys(s)[0]]}}catch(e){return console.error("Error =>",e),{status:400,result:void 0}}}async function h(o){try{let e=`${l}page/segments/${o}`,n=await fetch(e),{status:t}=n;if(t!==200)return{status:t,title:void 0,content:void 0};let r=await n.json(),{title:s,segmentedContent:a}=r;return{status:t,title:s,content:a}}catch(e){return console.error("Error =>",e),{status:400,title:void 0,content:void 0}}}async function w(o){try{let e=`${u}?action=opensearch&search=${o}&format=json&origin=*`,n=await fetch(e),{status:t}=n;if(t!==200)return{status:t,result:void 0};let r=await n.json(),s=r[1].length>0?r[1]:void 0;return{status:t,result:s}}catch(e){return console.error("Error =>",e),{status:400,result:void 0}}}async function D(o="all",e=null,n=null){try{let t=Date.now(),r=new Date(t);e!=null||(e=(r.getMonth()+1).toLocaleString(void 0,{minimumIntegerDigits:2})),n!=null||(n=r.getDate().toLocaleString(void 0,{minimumIntegerDigits:2}));let s=`${l}feed/onthisday/${o}/${e}/${n}`,a=await fetch(s),{status:c}=a,i=await a.json();return{status:c,result:i}}catch(t){return console.error("Error =>",t),{status:400,result:void 0}}}async function m(o){try{let e=`${l}page/summary/${o}?redirect=false`,n=await fetch(e),{status:t}=n;if(t!==200)return{status:t,result:void 0};let r=await n.json();return{status:t,result:r}}catch(e){return console.error("Error =>",e),{status:400,result:void 0}}}export{w as autocomplete,D as onThisDay,h as page,I as pageOld,m as popup,p as search};
